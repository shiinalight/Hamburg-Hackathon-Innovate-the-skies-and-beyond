<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Matchy - Share a shuttle. Save the planet.</title>
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <!-- FontAwesome for Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div class="app-container">
        <!-- Global Top Navigation -->
        <nav class="top-nav" id="main-nav">
            <div class="logo">
                <i class="fa-solid fa-shuttle-van"></i>
                <span>Matchy</span>
            </div>
            <div class="nav-links">
                <a href="#" class="nav-item active" onclick="navigateTo('screen-home')">Home</a>
                <a href="#" class="nav-item" onclick="navigateTo('screen-shuttles')">Shuttles</a>
                <a href="#" class="nav-item" onclick="navigateTo('screen-messages')">Messages <span
                        class="badge">2</span></a>
                <a href="#" class="nav-item" onclick="navigateTo('screen-profile')">Profile</a>
            </div>
            <div style="display: flex; align-items: center; gap: 10px;">
                <div class="points-display" id="user-points">
                    <i class="fa-solid fa-star"></i>
                    <span>150 pts</span>
                </div>
                <button class="icon-btn"><i class="fa-regular fa-bell"></i></button>
            </div>
        </nav>

        <!-- SCREEN 1: Home -->
        <div id="screen-home" class="screen active">
            <div class="hero-section">
                <h1 class="hero-title">Hop on.<br>Roll together.</h1>
                <div class="hero-image-container" style="background: none; padding: 0;">
                    <svg viewBox="0 0 400 250" width="100%" height="auto" xmlns="http://www.w3.org/2000/svg">
                        <rect width="400" height="250" rx="20" fill="#f0f4f8" />
                        <g transform="translate(200, 110)">
                            <circle cx="0" cy="0" r="70" fill="#3b82f6" opacity="0.1" />
                            <circle cx="0" cy="0" r="55" fill="#3b82f6" />
                            <ellipse cx="0" cy="0" rx="55" ry="25" fill="none" stroke="#fff" stroke-width="1.5"
                                opacity="0.5" />
                            <ellipse cx="0" cy="0" rx="25" ry="55" fill="none" stroke="#fff" stroke-width="1.5"
                                opacity="0.5" />
                        </g>
                        <g transform="translate(130, 110)">
                            <path d="M -12 25 Q 0 10, 12 25 L 15 70 L -15 70 Z" fill="#f4b400" />
                            <circle cx="0" cy="5" r="14" fill="#001233" />
                        </g>
                        <g transform="translate(270, 105)">
                            <path d="M -10 30 Q 0 15, 10 30 L 12 75 L -12 75 Z" fill="#10b981" />
                            <circle cx="0" cy="10" r="12" fill="#001233" />
                        </g>
                        <path d="M 130 90 Q 200 10, 270 90" fill="none" stroke="#f4b400" stroke-width="3"
                            stroke-dasharray="6,4" />
                    </svg>
                </div>
            </div>

            <div class="features-section">
                <h2>Why Shuttle?</h2>
                <div class="features-grid">
                    <div class="feature-card">
                        <div class="feature-icon"><i class="fa-solid fa-hand-holding-dollar"></i></div>
                        <h3>Save Money</h3>
                        <p>Split fares up to 50%</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon"><i class="fa-solid fa-leaf"></i></div>
                        <h3>Reduce Footprint</h3>
                        <p>Fewer cars, cleaner air</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon"><i class="fa-solid fa-users"></i></div>
                        <h3>Meet People</h3>
                        <p>Make new connections</p>
                    </div>
                </div>
            </div>

            <div class="action-footer">
                <button class="btn btn-primary btn-large" onclick="navigateTo('screen-setup')">Create Shuttle Request <i
                        class="fa-solid fa-chevron-right"></i></button>
            </div>
        </div>

        <!-- SCREEN 2: Setup Trip -->
        <div id="screen-setup" class="screen">
            <header class="app-header">
                <button class="icon-btn" onclick="navigateTo('screen-home')"><i
                        class="fa-solid fa-arrow-left"></i></button>
                <div class="progress-container">
                    <div class="progress-text">New Trip Setup <span class="progress-percent">50%</span></div>
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: 50%;"></div>
                    </div>
                </div>
            </header>

            <div class="scroll-content" style="max-height: calc(100vh - 120px); overflow: hidden;">
                <div class="form-section">
                    <p class="section-label">Where to?</p>
                    <h2 class="section-title">Destination & Flight</h2>
                    <div class="compact-grid" style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px;">
                        <div class="input-group">
                            <i class="fa-solid fa-location-dot search-icon"></i>
                            <input type="text" id="input-destination" placeholder="Alexanderplatz"
                                value="Alexanderplatz">
                        </div>
                        <div class="input-group">
                            <i class="fa-solid fa-plane-arrival search-icon"></i>
                            <input type="text" id="input-flight" placeholder="LH2024" value="">
                        </div>
                    </div>
                </div>

                <div class="form-section">
                    <p class="section-label">Preferences</p>
                    <h2 class="section-title">Matching Details</h2>
                    <div class="pref-grid" style="display: grid; grid-template-columns: 1fr 1fr; gap: 8px;">
                        <div class="select-group">
                            <label class="field-label">Language</label>
                            <select id="select-language">
                                <option>English</option>
                                <option>German</option>
                            </select>
                            <i class="fa-solid fa-chevron-down select-icon"></i>
                        </div>
                        <div class="select-group">
                            <label class="field-label">Transport</label>
                            <select id="select-transport">
                                <option>Taxi</option>
                                <option>Ride-share</option>
                            </select>
                            <i class="fa-solid fa-chevron-down select-icon"></i>
                        </div>
                        <div class="select-group">
                            <label class="field-label">Age</label>
                            <select id="select-age">
                                <option>No Pref</option>
                                <option selected>25-35</option>
                            </select>
                            <i class="fa-solid fa-chevron-down select-icon"></i>
                        </div>
                        <div class="select-group">
                            <label class="field-label">Capacity</label>
                            <select id="select-capacity">
                                <option value="4" selected>4 People</option>
                                <option value="6">6 People</option>
                            </select>
                            <i class="fa-solid fa-chevron-down select-icon"></i>
                        </div>
                    </div>
                </div>

                <div class="form-section" style="padding-bottom: 5px;">
                    <p class="section-label">Your Role</p>
                    <div class="role-grid" style="gap: 8px;">
                        <div class="role-card active" style="padding: 10px;">
                            <i class="fa-solid fa-shuttle-van" style="font-size: 16px;"></i>
                            <h3 style="font-size: 13px;">Joiner</h3>
                        </div>
                        <div class="role-card" style="padding: 10px;">
                            <i class="fa-solid fa-map-location-dot" style="font-size: 16px;"></i>
                            <h3 style="font-size: 13px;">Host</h3>
                        </div>
                    </div>
                </div>

                <div class="action-footer" style="padding: 10px;">
                    <button class="btn btn-primary btn-large" onclick="handleFindShuttles()">Match Shuttles</button>
                </div>
            </div>
        </div>

        <!-- SCREEN 3: Shuttles -->
        <div id="screen-shuttles" class="screen shuttles-screen">
            <header class="shuttles-header">
                <div class="header-top">
                    <button class="icon-btn dark" onclick="navigateTo('screen-home')"><i
                            class="fa-solid fa-arrow-left"></i></button>
                </div>
                <h2>Similar Shuttles <span class="found-text">(Top 3)</span></h2>
            </header>

            <div class="shuttles-list" id="llm-shuttle-list">
                <!-- LLM will inject matches here -->
                <div style="padding: 20px; text-align: center; color: var(--text-muted);">
                    Waiting for your request...
                </div>
            </div>

            <div class="action-footer" style="position: static; padding: 20px;">
                <p style="text-align: center; margin-bottom: 10px; color: var(--text-muted);">Don't see a fit?</p>
                <button class="btn btn-primary btn-large" onclick="handleCreateShuttle()">Create New Shuttle
                    Request</button>
            </div>
        </div>

        <!-- SCREEN 4: Messages -->
        <div id="screen-messages" class="screen">
            <header class="app-header">
                <h2>Messages</h2>
            </header>
            <div class="scroll-content">
                <div class="message-list">
                    <div class="message-item unread">
                        <img src="https://randomuser.me/api/portraits/women/44.jpg" alt="Sophie R." class="avatar">
                        <div class="message-info">
                            <h4>Sophie R. <span class="time">10:42 AM</span></h4>
                            <p>Hi! Are you still looking for someone to split a ride to Alexanderplatz?</p>
                        </div>
                    </div>
                    <div class="message-item">
                        <img src="https://randomuser.me/api/portraits/men/32.jpg" alt="Liam K." class="avatar">
                        <div class="message-info">
                            <h4>Liam K. <span class="time">Yesterday</span></h4>
                            <p>Great meeting you! Safe travels.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- SCREEN 5: Profile -->
        <div id="screen-profile" class="screen">
            <header class="app-header">
                <h2>Profile</h2>
            </header>
            <div class="scroll-content">
                <div class="profile-header text-center">
                    <img src="https://randomuser.me/api/portraits/women/40.jpg" alt="My Profile" class="avatar-large">
                    <h2>Sarah M.</h2>
                    <p class="text-muted">Explorer üåç | Member since 2024</p>
                </div>
                <div class="profile-stats">
                    <div class="stat">
                        <h3 id="stat-rides">14</h3>
                        <p>Rides Shared</p>
                    </div>
                    <div class="stat">
                        <h3 id="stat-co2">120kg</h3>
                        <p>CO2 Saved</p>
                    </div>
                    <div class="stat">
                        <h3>4.9</h3>
                        <p>Rating</p>
                    </div>
                </div>

                <div class="badges-section">
                    <h3>My Badges</h3>
                    <div class="badges-grid" id="user-badges">
                        <!-- Badges injected by JS -->
                    </div>
                </div>

                <div class="profile-menu">
                    <button class="menu-item"><i class="fa-solid fa-user-pen"></i> Edit Profile</button>
                    <button class="menu-item"><i class="fa-solid fa-gear"></i> Settings</button>
                    <button class="menu-item"><i class="fa-solid fa-circle-question"></i> Help & Support</button>
                    <button class="menu-item text-danger" onclick="navigateTo('screen-home')"><i
                            class="fa-solid fa-arrow-right-from-bracket"></i>
                        Reset</button>
                </div>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>

</html>